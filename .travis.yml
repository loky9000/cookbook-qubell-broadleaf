language: ruby
gemfile:
- Gemfile
rvm:
- 1.9.3
before_install:
- echo -n $EC2_KEY_CHUNK_{0..32} >> ~/.ssh/id_ec2.base64
- cat ~/.ssh/id_ec2.base64 | tr -d ' ' | base64 --decode > ~/.ssh/id_ec2.pem
env:
  global:
  - secure: ag2EjBrwYl8/ipHEfCSY5+PyhhoBIFpDwimmo6nrEdSkSibhenf9zze3+7JpVpvwWRyTeW1bxxiADsXRjGDQRKNcOYxNsvyn+nkhCJUT8UanP3rsq4tN6qaHje5Po6cR32XZTtG8ivfLC4ciY+oTYZ44/GkMtP0LFIUejyqf8Pk=
  - secure: PtwUb3+hXDd+eVAU81SlAdTyfkNz5YLVPiWcWc4d/+AyzRmAjlwjETbeLL0o4cZqIUaNLBbV96e9mpKnk/4fkqDfD+MM4COpLmhkKtt4TqrEParbWjZ4llQ4dPCaCYtWCk4nX7Ekc+VPXTBDZp95rTs7Et+PSRWd2yUBHQgtnXQ=
  - secure: kmTDtVz4kYpyuWs9LFV2ZmyEFTdWhlFVhMC+9fk6lM6y7AeknHczt1miLAmtasVUp90DMPRXk8C0uMmDB2GRwGpBLf6HniuSbom/XAXby/+tS/lRNARTazFuP8W5HRYRh2ofePbO7mUb3jkE/vFSkBeLAeICsfdSneQRDcACKas=
  - secure: fXmstorI057bEWzhOoKzdmWowXyXReNU7Rs/uADbSaW4xI59plToFPNBGiC9E7b3E/zmHF5AUtfjtTNID4249W09ON5DJdItK65qvjmogrM/wSnbPG4H7vRpJ4urB0+ukL5cG6QOSY5n7DD3NdpAKL9El85s0g51CPr1dPOtZtc=
  - secure: NQN1aZaDA4fHJjQBNU7AP5eu9UQGyrTf26PzJ7HpRM2F+AE3VDk34Yp82l32McLXFPb/gp+NMPrr2G/AGFWOBvVvCZGYfd0mqZLM96V5FN6QGrN+5nFrIGFn8qgIZ8OKdf60wNQW+isvuaNNmuOngwszNbDDcNKMl3mynewiOho=
  - secure: Qul2GEExAdRV0myy9XCUPjHCM9yIbQrGQiimmfseaM7iZoVrSYI2Kr5sfzzS/U5o3er15fS+Pay90rV+4fRgOxErU5sHjjtE2EmrXqgxlkQTdJWaugTdKtXIXGRuwNn+EB+RRYYVu2DqxpPicqCtOEICeUtPjAV6WBs6032dia4=
  - secure: d5nYFQ6LTLv3KlL2mTITHcCFNn9tRNVkaGk3Q/JCGCEWZpePXcVEx+myu0TMtMr3R8vRvPYCSCoS2dJmV6PomiO3eWbaSUmexaq+IuzPflYKMdHMY2DfZAiR8nv9ssoXXGjYpiOHTKoNjv+bi5w/7OgEPDUXpQKntDnSaFmMNvw=
  - secure: VTTLh2syHo+o/FnjAzgxLwgqyrtU7GdXfbFrP2GQcO1U8N6mLGuXhyrWStgG7keJOhY9UBCnN9MirrE1jqIGKK/skNwfbI0tQvqqb1jz3wOirVGZRXXRNjbp1ieyNCWOPqbjtA24HcGPcW+B2mexsib1RIJyzcLWa/W/n3qiAhE=
  - secure: r4rCWcymilKVhagECIvVgVMs1S76QjZj7XbXsXoIG5rWQBq36lfHDjFcJr4SAO9lA8p2Fhni+MCZhNMG/GdgPJCSxP0sdjI/iAay8IOMTVoo252aV3ToImpQ1n5fq2GB94H5Kk7c3pVBXrNIDyZ1H5nUQ+0Nqsg6txoTQS3FKOo=
  - secure: UF11Td15pIAfLWqAPgKTFDXtnRpYCVb82JusDvbxFPV0XeBNn4Ce1pARLKfrn/1Jpp6kJlYgjNcCPP8gRUpguuF6n29rH+56D/ISbQ9Dv4/QjZcqAMusesQChw4QVqKQNkT0cGGqy+sSQn9FGlIiXueHGDJWaiqigT9wQhS4pQU=
  - secure: lVBHBqvbB1iJbR00e8kt/CdljZgXjZT65Wlur9OFnw3HeCeSsdD3Qp+/xEXwEo1b5PhaGkOK5MFwr0Lut3ht7Sv5U+g8lTiIgeRFKTawee6GlXewFkqvaSZ3SOSMW4poq/g4boex0n1w9CoOqJW4VidWx05pl5+UrwkAT3vW9FA=
  - secure: Ih6gJ3k2F8kpl8laZ58m3PqscbGusmw/df1bJPlqgGxCBAwzER7aosbl3ErH81ovUu+f5jOHw1rszOxa5cIMdrVL0SLNbbGrmWUP6VP4SGYdmyFU6iCAYKQ2MHjUGibjHmgI0C0fJa2Xtshh3Qipoe1ixF52GhCJLJw6qZj83MM=
  - secure: X7vvnG/dK9qKM1fEngh0LFIufOmo2m+3fX85RmI5O3wYM0qXJLTm1Dhhbw+3EdaNOgVmzPY/cy8gY/VeJgWhUFze7AZN4nGvPJcPQJ82qG7hhfD+oP+UBgMyefVD8f6fKydHpvgV09fmAF9QCjPbZ9L4hv92mKkA86PaCeUKuRc=
  - secure: P4dVRI+8Ry9QqH0A/mT+C1wFAwu8bkJeTlTe7mLmMtZN7evxmU3zbbfK0pmzOS2fw0Wpw3WciUhAIk6qASViw6Th+8y443tQt5ph1zi2c0Qg25sH5XNttKiLcrbXYLfS5z3pmgjq5k4tNNQSEHfcWY90ao/DkWZ52Hw0enPSmFE=
  - secure: JVltIJv4AaMWcwz57c3peBqmm+XJuVo2CyH9BiD4OQa6a6eZAiTORzBTFu7MGR5h2lMnS92svxeMrUSDNgshjHa0aExHmd/3GNdrtKw53csKLIaI3zgPAsD4a5KRKECP1nQ53XORJVF58gFTIV3TrtV6/T73p2CLPcCu49Qciok=
  - secure: aMC67YUuEwcf1h2Ji7Oa3F9zmDCUcoiYC7Uw2AIffr3ZC8EgLvXHC4cgtZ0tHWMStfQSnDp2E4K8AwqMlgW10+LM5AP5aVO3Op87QoTHAxxsz8l1vnsxjg8KII5oKx+PoZlo1LEDPPNmenB9DFMfKcak7/HOPDGCGtTBAVroHlk=
  - secure: VBfDDWoV4lJWhBaA6/wdZ/uWxRpoeDBSR5wfWNnT/jDWQhO7EMCNVSYE1LVqSzSPH/1WyRQorl8xq8JtjPj/nqDo5jeibNf3hkJn2PmcInPKa56vtGxEl4eUAglrAuR+K1KFgRfXiWHKC6Ve2/u6jIIzWqRXP5b2m3fGXdQXGPA=
  - secure: R/22I4V4QNCQwFCFBQt4jI26pwG5YkB7qN9cpWsNxlCsQqR5BbbVIoOWNS3y9Y1cx6QZFsVKqKwVPMaAPOIDUufCXSX1SVpNWMlfa0YWUkRdi9MVbccbu6V93BKRTf2XA4Qw/53RBrm2F7ECaWXJe0liToWsjo4Sy5m1kQh+PF0=
  - secure: iAl4eS1OCbySeADsqaxCj0DU4Ch1cyXlEYcKqmQ5me9YXhJMnkm205PVSwa7sK4sUCQB2prV6Qj/9X2AZa3BzNj/67FA16Z8cMTP165mYyECo/UZZwR52VtoQDWOe6GWcxXwtD2ozi8LGlDDZt4qOvR6Ifdhwh13/cHhXDo3IA4=
  - secure: n2BtgM6lRtIN6tWtcjKzeYLn2jN1o/BkFt9TZKGQMnlbBODKxjQdC+aLN15C9Gcvf5cQ+scXjS3PidQpfEXuyth7tJ9fiarPe8H5SUJ1ijKYvqNVzrZ8xtMPNN38XuOOwY9aixI5SRqOm7/CKHyZI43sY06MkCiXhiexFQMra4M=
  - secure: MlrAg1x0RXiEjjIuUuHiNQ3/GLu+LXE98CfAw5B+xatlyfumlEMihaecBlfbRo5pU2DbW0S7ONKwQ3EXwCRKMXLAjGb3J2dWhO+J1m9v+DqbkZnALprfivZZllDw62q047RG2lPe2XWr08JQ5NNb0zkZw1d+/5oAZLXexybS7ik=
  - secure: eGyrn/8gewVh24zzqRA/yL13ZCgsfD6ELWRNCTXfBAeG6ORkxw7ekC27GjJ/FE52wiTSkkWLQ32RFFhos8VDyQt8q+HAyhobkvyt3Ne1+C4tGwnkmClwU8VpaBFTRNetXQDw+P8cVNFZYYiKJHtdNhA9fQVLgrdKkG3NYpwKsQ0=
  - secure: DKKaB0sItzlu4cp/LSXxb7V7Qc+2fx2Ro6ifD6KNL+pIJ0G0ufH91C62WSrEYDPebEefBZyrri9w0tcf6w8vWnw38mcNi14fYMgoLGWPXG3jVwwJSS+sebVLDnr/1clVYXuILKQ1G/0PN2XQ3BVbgCUshw8941u0a3J97ABHUrk=
  - secure: AG/FZAdmDmzHU9AtFK33yVvsLiJRHD7OGMFVhfgo0nK9DF7z0nrnCpG5zj5JcPvkMYKSY0hvzJ2wijdhWLAY3KmzyrSTwld/k7MZAhd2BNIe4hL5cxLRAS7pDriT4n6i4hG0rkxmqdNp7QwETgHsnTjmwUdvcMW/MKCRlpIknj8=
  - secure: Za8nqEpzemyEZKWqjxC0iJrG4+YE4dw96jKgjnThvlAyURQQ+iLvzDZtQ2d4J+gWAznItQLnNJJQ9I5ZTuzX3y6weOb0G5C80ziT4roC/WdiwGMVEMO7WZZqbqEJ0LHMjnE1a+nURyQDx5OSxbnZBy++WaygzEGir1xwBoh/If0=
  - secure: NWA9J6QV+m6UBqsMCvhs1VTTRawVh3UwyBKKceXUeJFXk20QpQ5rjLZosUpMXfG7Gbv2R1WtwU4tdFhVcSkJGW7DEVs6DYME4Sm7u0q0UiiG7mj8kT+pmMBvHuwMlTwEEgyu5nvIesokMsCeBXL4Nqw1jAUvsm+zGVAjaGCtKnQ=
  - secure: p9YvPc5Ucw0XdFQZyliKokyHRFT8OvPb9CdRusBZAnFHb6jnWSH7Dsvcju04J59tZVwUCK3RIDrg4v1OKHLwSyb+igYCxgnIwthTKHWLRh60acikM89KefVbhNcJRIRDb9l3JKk2rmsDbdTeKhXEilCjUiANCBJMKZ7ocRK/VM0=
  - secure: R3thHY1n9OkyH2VKYtI4dk80BLQKNlAeaNRRqRdBQ2HJX0wQNAjYBEO6e4MCyO4A9bQOfAE3BLof5tYyIrJQOsjs8iDb17tmxJVax6qbqbxbwgRDVBmQ+lX6IDazuzKTlPG5rlHc9P1xpXnOHjWF1tkM75iiht3vLmKXLEukTIA=
  - secure: psJhCH/EjBD5ANBojD1snT1xG+hbZthfOSigEcgxjJGoN95Qqubcjbv8/3hVZ/K5ub+Izq9TQoy92gU6hbk6QL4t7hQ0vtqU5rEjJYCGspFpLnF85fETbtQiRkzu4q3fTloS+u9uxBD+R3nwM5lhsJkJsVgQarzvIMzLSswMi/0=
  - secure: lrg6s2skGDwS7F9zMmbph/MXlb+QV9p55mMn2yt2wpDuzuQjjzX9ma4wbGlaxTBdlg+GvTgEGqxkHjktrUN4f0cbPo3RpHE8gI4jZsz80n6H3ATBBqVXFr3eAhQ3YQhCmsWupYZOU1aQdMu+ZqtQ9jbco2tHtojXl3oD50rF8II=
  - secure: GlTPbPRWJCuIwknUW+um7jEgVzcBXVX0OK20GgMTarhsUmoljTPjb34+BxPgNraSq8yd+PGhHotM75DfdH7qI9cFOUdD98IpWhNwZE5+kEW9n0ieQ+17ZomgdsTRDVO6W4k2KxG+DawpAYiZ31G8w/pxdt2Nhy/iwdRIPa2iafA=
  - secure: OPyyp6bwCJi7vruQ0nMehybHboAZtCbucwiHMeRzepiu/wFYRBM93ZP4xjO3wpdVYvzZoMsfQV20SjPpelJezTq3hWrS+phX/31nOx8+rhctHmKXqz/Mt2FA3yzz2zdYqJDnWX9jMdTWv26GIAvi/5EMMYx7hBqn0026arw5P5Q=
  - secure: e9mqaLT3pzhQUI9V0qSoEGgnln0cYyTPkEjq71TSO5gpK18p3QLKOEQkNBOk9mXQhPXYdbKlbNNEYEG5xVX77am9nW0eYCtPQ7vsc/+KyhGN3sy45mqLhFnGSd/xYzwAnAzE7xGTqX9BzUuxSRb+lCBwGjxWqX9hs/8oJsMYW6Q=
  - secure: rMNI65yaf0euJLMyc9HGPGh04YA+YFDFXAAqPo4+p2G8j9KFmqvfeVHYQ+lOOLrsHpnCOXsBYE5oNtz0Ei4QshMmn4JJXwYAOpJ/uk2dw8OdmBegpRrpqqMkgDlX1l8bXSmZ3dWTpVjcblJxuzQe8D1FuqLaTljHTFfqafpqu60=
  - secure: NezhBrqBn94HSntV92g0Fv5/A9ysrs1fQIqCKACLBUXZB6BgS685VkOI4LnZevHAf8YDW2j+YE/UVGxTxuD+lFhxzwKtrYdp5ofaHfjNNRL966jYwDt/8lT64M2uLef9z6d2JSZgAdUK71oLd1BproQTMdPKVYyZrgkAAfCMMpY=
  - secure: pLUSdwqSuiqOfREGxEq9dF0qATah7Lx573USFUJILxVs8cknneOCU7awFIzKhsejAruoAOZKjDoDsFIM5VEDX55Ng0KScpqhs3FkUsAun0ijKXs/LPPwtP8UIs88mWnuJwwgIyzxSH6n1kPDjafoeBpFTu2zkN786fzmnWQSZ3A=
  - secure: q/Gw6KbeNom7U+3r7H8xFFkk2jEcL/15Ct2er7IbreposWBfcpJVz3fOkVX2QL+h2qnOmsOhFaiVr2+Ic9O9yr9RJ6QXy1VKHc1E0+q49QhHSA+L7SxPofilv6pbQ3II89bD24MqY49+JPKFl1mnqLVhI0xLMUv6ByvTrQISu98=
  matrix:
  - KITCHEN_INSTANCE='add-solr-support-ubuntu-1204'
  - KITCHEN_INSTANCE='add-solr-support-ubuntu-1004'
  - KITCHEN_INSTANCE='add-solr-support-centos-64'
  - KITCHEN_INSTANCE='add-solr-support-centos-56'
script:
- bundle exec kitchen test $KITCHEN_INSTANCE
after_script:
- bundle exec kitchen destroy $KITCHEN_INSTANCE
notifications:
  email:
  - aivantsov@qubell.com
