language: ruby
gemfile:
- Gemfile
rvm:
- 1.9.3
before_install:
- echo -n $EC2_KEY_CHUNK_{0..32} >> ~/.ssh/id_ec2.base64
- cat ~/.ssh/id_ec2.base64 | tr -d ' ' | base64 --decode > ~/.ssh/id_ec2.pem
env:
  global:
  - secure: VucWdUY3Rs8E3vDRIWGrl1JzVP3O4QdSyl8RZlkP5MvinMyZV9KJNpDmgyLnN59eI1QpS7OWMsAarPBVVj8rXLvRrXqrB2iHXlZQeN/xtyo5JRWJWLtBJt9Giv0wb3rGTncVV5ilIXg5ewxtHbyBt8RVQdXhWLsd9Tyr7ILJc3M=
  - secure: NzLtQhhan09nU7yafKpOUeZyqbRC0BKyQGsXDw+em8uDwJf8fdb/vKE7HGyAa8H5RCyJao8UdoZD+iWskj8+hG5L81qTjqukdfCDIHnev1ZyQsIWLhIpVE5OldwPR7JyD40BX3OSy7YElQ9JY41Urulmew3ix3kNvZFe8FLt+rM=
  - secure: SFe1uToWXjqlCP13vsrC6bzEof5eu1gLcAVg5g0Xcq1GrWgXE0/jMUYkCAJmJullUsEu9qmij48WYc3J3n3AvUejafdJZZfhsh49xi/uDLh3Ut6BJHdsgxa6Oo16MnOexGjhp8BaHOcwvu3VlYhidvAYWh2fk3upW3vf3iCeR+Q=
  - secure: KhYsJIaNBMwB7BAwlMBpmJ9UtnN0jf7VlWdr+2bKB5/rJqGZgM1CE9SfJL65T7r1wOR6hfPlKU7iUyeUVqruc97/C+OYztzLIP/4g//j9yJARHdmnoXAUJ6PHDCsR8VLBQLHkWLljXXpkRxhtMCRtrQCmHW4WIw7m13EHq3Ysi8=
  - secure: LZIYlVRNw3vTjnNX/bRCijJNWkfIq0iaxBXl2fPgtDBSFEzfvSSC9cysHi1wktijx6ww4a91PC/u9F6VEqYUpdFOt6FlysBqtyLsxbYCO8AVA+Yq2O2m9jNb808H6+jMwcM8cogLKDlQlIR8SFs7yMca4CCvdyRv3NymY/G6/PY=
  - secure: PXxi/GB8Dw2swX8Te7RZHGsIAKrCw7IWlo/5A7JdN5hXNmVkaqoVnyRMSk0MSsYZVmWpWgmwoTT6eG4P6MnxiU5X3EUwRFYdPgxi4VUBRFTPFbOaOVnjg2GhgvbiX0Bg3qnkcbiLVS2hLBAG3b9OxnBC4BrjW/G4xSDOyXYQbzs=
  - secure: ZUHc0/c+AknY7kA6hqQoWaiRzADU5f+zsZycApAZLIhppwGYDe9oF48Q1lsGylfJpAoClKL4maWMlDyUj/6N5O1RhrZJpcmVIcwLlpoliq4rZMFMSUclm9SCb3uWrUDoROjCk3ORYTEc7AFpS8Bl2cZD/c9ylwpIoPHyxS59C84=
  - secure: UdQ1N5dZqu+QYqd2HWliPtMKH2aVdXgafzW4o2DGNfKx8sE7HDMvvMlOtreY+RAfIGqVsK7rZMc6hN04QptB7VtBLBbYPrvdDNi3+P4G9VLtfdzZ+8XYDPmPAK341KpynrkC/aDJo0pxghsF5d9avTLwg0A/2CPNIiyQkt+EGLA=
  - secure: kZOsES6lkNo3Dkit48K+DslHESKB2R9UIRtM80iKyehzSO3IsaGxXe0g0yDwC0uRWT8OorVUIpzTEK8kgvCMzTREA4Hl9jODuiXNaKOWQ+QJzTDD6/14DGmPTdzUoKmRX8qz4OCnCDtZICQeQ6PiK8tvqJAC/DARbyhqFopurcU=
  - secure: ZcOW9czUobO8AmJ4oxceNP0L0SRIUqaoD55GhmBMeBot+VpWS5ourZONcpI/8LBCoNMhc/F66jQP8oU11LixMxnDPp0smkulG2arNbQ0h7waF3TpT1vOoJRCMEBZ+k7R16fwQrE+A7f30dX7TdNaDiw/9hQd7Elc+G4BK+rDTs0=
  - secure: X+M9ZeG/XjJYQxJqcw4rNWlBs7iSYGOruSZZUiPuztX1tkMEAS4psasWaBmEoZ3jt43IazAsmD6Bv8ILqltMWToskY7VRWKU+PQWfirGLKmn2URhw9/gWmMBYzuOrBdI+rNaGk02H+mRZAVS6nz8VLtfMd5I7ILoGx9pgYme6o4=
  - secure: T1gsTH9dcrb0gWcO3yh4nGNFPXZPsurfCbLuIGnjEh7Tt/VVuvUo3RvBH1VdhnYm4XO2gA28weAP5adjEq4dt4KIRtMhK0x2430v2J8qsHvygNARoim8AZnhRBqaE2dgexybT9upnN0/4WjVzf9JaV+9lVAdUwl1kI8VOaCisoI=
  - secure: TPZrsaOPEbuZukkn2yT7l+460TZRXHldXfEDKh9C/s8ZDLGfm+HkpY8IrsF8EsBp+MVCEUY3UlLMsVLT8ezA4ckU3sHtEaUADLayOj2k4zG4WsT4YUcoCqySCNp8I6CZKjDc36ME0grHBhEyqWT2+WRsTOlL6xMXXNlywe1SKSI=
  - secure: CUZBsZTMrkzEUOOm7v1tth/du9MxqyYGln6Quc8XN3/Ek6p124BqQuWfYSFfAyrchY5GAAMGCFT/m7JPOZt9h5dzcELdKYBgRXDRdfddMVjJS/3P7KShmjF8ilt2rQGqN/OIU/ewKbkRxZGysvwpXQ/EPplkR2dykBdZ4VT3gdA=
  - secure: SJfwGS9kPDZwyktay8CtSuJboJ+isD/CZ3dCDlualo+IXVV1gRplXNr65I+NjCD7vQ6Ln0O2ZoZizeqnxQm6mYlqkSxWDwDlYMcvd1EHqR3hvUvgAwQWqS4uNlhshU25E10bVIEQHCoF/o5BzKZDaQNPE7Hbxjb9tqDjNB1Dn7k=
  - secure: r4f6PbN+XpsDkw3PIeiFmKooO+80ZvxljYQqzIdsSXZZIEjWHK31tzIE+T+NXrrVhL4FVUNndFPgb7spYBelrjyEiz4jOB7C70x/FMdopD4/QVcsbVAl9RkWLj45QozTRkSdL7pc3zy+vWKXhB5f8s2FazP0WjKjOXc2OeaSric=
  - secure: mjO3Zi4oR55qOwz+cwHPDfj96lDXmkm+YsGPaBG7BLPUGheu9CcJY1D0Rf3vyt2Zi+c7vb6hzGPld1KdaHebmNIRmZEHUwcdLiyXdnBWXrAOPAqSJTaahgwtC1BdNyu24HfAY0JBSf9Vdu6IHkkZ6uF35YvZ0v8oyncusutRFN0=
  - secure: MesT1NOqzLSL4ZTgjL7ALxVW7q9vIwgHLcXnMz19oIU4fY3kr3CzwMTXUWlaq+JVMx3nfa4opvFEK9hEx1crQqsCZNcnRgOxRp9dgOwbdkB4z9UL/Gl9ddPR/YOnk3nQ3ruAFv06hyc7DXR5RoNp8KT+6UQLkOhyb45Ny57pE6U=
  - secure: q3Nh9kfjMECAeHCECeQOwhKbnE+TPeAs1FNWN0ixxDj6MnRi1hMEElRRMckfdhJfrahyUeXvRMO/lqTT9fK266btMFHRs55+8EgZflrpZGR9iPy/8A5c3TBtZMcKMeS7YkN6ObLR8a2at1BjSR4PPoVVejMabRiC0S7EEZv/H98=
  - secure: lkL+Nv0cQB4vnADayKA2JpVSiazkEFhgFYNO6YHSV5nzWtsipI5qhi5yi+a5fI8uwuzEjCkGM4PNHUWKO3jf5gjFZqXezIjQgOMD974wIdss92IULthJuFtEweV5xNAvRLHArsS2hr2BBEiIsovdxp3Q42uNp7k+G4QU4bjP6g0=
  - secure: Z3jTPrt91PZUMbuDhYuOJMxVMrmh29y4afwPP6rfy1wMzCIBZSFv1I54oionWcLHFtOk0zKvFPjvJ2lLQ7MCWH9NYti3SRnGusbp2P6H9Aris9X1UKoOZSj+WdiK8RE8aEbnvBlg+ZmQWntrfRMS/TwW8nSREBZ6A5jE0mb5W9o=
  - secure: FJM8cPRlr8ViDY9D8yq4ZzBdC+AoXzJKLofwl/Mm5mg4PvaHRRadLMm32hmpEO29fdIccBprm2GsQOIhULVcGP1pI2oT6R82hpO4gtMZclaO8IaWUE8ERVDO0PZw7oRgcmxQ8NPU0q3L8mSVst6cfE9/DocdPAxQ/0Vv7RIyEfE=
  - secure: ORRwBJ9dPDc7e8ERH2KHA/WTidVTlOO4UeuIdM94vlHzviML7dyOk+Bv3QJFWsNK/tOrzqgK5ytNn/6TS6zV5zbtUjGeFHwso/lNxwLQHlGe4ELuwoGC2eZmx62CzyyOMN2N55SN+qo5+sq8ZJ3x6FKxzQJo2xgr51p1BlAwoMU=
  - secure: rfRD4o2i4OWMKIOHYq/C8l+NIoWwXH3RSp1y32kxSqalGV6sqHDyz4WgoewNhaCv7QYEsZ/VQLFb3zfRgDEkTfGJYqq3nLawD9JDUxZuazNFRqET9XivVCak/n9w2C/+Wu8FgJyYm8MzMBM2BWG+f2VJGJfg0kg+QIo3fCXGLo4=
  - secure: BZbV1NMSiTjHgRAGtSmJNdUDWeB+bO3QYQKuChaWNWhyM3clgGpsPlevRF8RPLubNkDdDRUizU4mnb0UdylUkLSyk1ozcAGBArUctUT4LOFEfYbbvdtH59xij+gKx/sPe5LnovPHJOj+ALEDZvpYDCeY+BPU5ac7IgZC+OVTbzc=
  - secure: oIC7/pCsqpsytVdvJSE5grxZmhcETvCXrSiZMdszfERtv9GkvcP0/YSPaR8eGQm0yQWbCbrZsZ/DjU0/J+W/9VsWp4s/FynQYSqaueF6BevzWg9k+kNjLo6m/Ur2XzKnczlEjGzwU3/IvM4mcf/gMthrFlEfzP323rTSagS6Fbk=
  - secure: a89M2LYCvi6jqPIO5y2IIQRr6YTykHZF5+rpjUly9l9iV01S5duXQstgTMr3BBae6NUN1SOhJ/bBnwf8tDUk8FNJ7iTslMde5ixiWkrwldA3uMm8rxR3xBztJScrSoe3ja6uQZiCDu8NFpT1/UwN5hiZHl6NWdMg+5QkkCtYoms=
  - secure: eNm90XS5t9vWOjzmZ9u70DtkrnqGFYnLY5SyxwSlWOoUyUAnsYiitejvm9kRp9YpABYUtRpuyJDJkAXZq09iNbvjl8ICOgiTit1LBAAV/wkFuKYgsIvQ1SM3/woPrDeIDriKGIAEAugeFlEjUzbOe8xUWs3gYV5hDzxPjCn2v/0=
  - secure: ctxR/v5ifjIGPp/qyf+VxvGWeoaCpIHAxW6UgOCpN/0C2Zlg09DwJyuMzznU2Z5mtg8ZswBZkcQnPHHPcX6VcCVzj0ezBAvgtOdp3w0HKt6ouEmVRqlO+IuOsUwU/fwopfHv+vLtGhXRgTiDQOoF/GF4drXN29eQjTwsJXd/btQ=
  - secure: Gbf6nB3OnViE6GiQqqqP550I4CvpirSQmWoIpXIpXgKjdfOokDZ9MH5bfhhDHTyK1nUq1vLbgiHNrAacocCs2mPluj8G5Htv8NXjduO+pKt46am12IBxjYJCt52HmWjKRTyzQuyGaKbTC4ELBdX09d22l+332xR5QlmQgJhQArY=
  - secure: iZ9bbD/i3L0QQuuxcEnDmBvsfnpXreuNYj8kK2IcOjW3s2JVzIcSSE4eZa2P7NF7sgzWjq6rB6EaopQJW+O0NfcSmEBDSjRJ/d8rx9ElM9cj4k7FuNSFV58iTbdepnTYNif+Gu1E7g8X1Aqgb3HgQW4wcwpFLCe/2gJ96MaSDBM=
  - secure: Ik2XCUju+nqAVsSy9RC2isDc4rycjTsT5n4WZ7TqfP+rWrAkWVy+Cvlr5OIzHAYq5VI0cIunc0Zm60XdJISt0DifAS1f5N4oU03t2iRRgXG/ylpHOKIp7Iu1ZLL9xGTqh4yL95SKjy1UnuzRdEYYR2755CUsBraW11cmx82FrQQ=
  - secure: HKk1nvFYZ1roCm0n2cqFlC4hekRZBh9fAwt14Chj2xqZVpH/oFdKwppDPj5cwVcxMqVFNHsMtbde9OhygqmnEI5LQFA0PeIkDdmFox7SIW1XTjrTDnf7hVFnXvzvBstA4RwGYSXwDQq7H9GaZidmXw3zHaz0Tij7P9QQ6p+FXqg=
  - secure: msaxwAX5dCpN7xHr9I1gXwbGTE+7zKHPiE1yWrc5Ff72cxnq8P6HdeEGbC8hf+xSyCYba3f3SbtVaachicRgOljOdYowygRoNLAYgq+pyRxscysVi51h3Njk4tgq+VNeAcyH1LxB6p4GIRmyGg+yRYKhilIafmYfa9shLlTg9IU=
  - secure: qqIOr4a7uL4QcTiqI4kc0Px1AjeDGuPegpKggVU9+y+EMYitQ5W3GHOFPp7KuU//Hnlb+wnFRYRvf8zuLf96nMKS31GaJ4JaIDfmmVrozmRDBidMzdjeDXX5O9j7CBXY3kAegCLUKnOzZ80ITRAAHvmpiiDh/HLW6ckkELR2U1c=
  - secure: rtV1FVwp6fq+F1Gel48dgbN4JlGEx6pdnMx9ITEduvMrVNBgcLXGs0HDVZvnLREJLaESV/+y5eGw8g6UQmMW3jVhBsdQAaEfwrSlHepJBifjaB3Qpv4gHNHEFE2gViiEs73uE3sM/BZj/aNN7Md2De3NZ8qD0HlPL8Oj2s6mPvs=
  - secure: pbY9jIUXA/DEvXr94pdLk2G2a/rrObBAon4j6cN8R0bbxZa6gPJHQR03sAI0l+jtTQokG8+xBvwVBXFRxGiMKET2BpND2pv26yB8u31OzxtLKNPYvNLKzSP/P9b3DIKTrwx/FWw4LubSJ4bz9kQQHPqsksI5GNHBGH+MdHUE4js=
  - secure: LZVhUqXJ9L9y4wf4wQgcHp7jgZ4gbi9tk+fkd/F7fpXFZNyzODmIx8F2lnJK1QuC6ygTTXy3d3RXzmu5qeTy3mXWyxPaHejOfndUdZjZ+udIdwSgJqQqjSAJMqQepDzP7K2aLeyRbPio3SKwBJTWpwAzNc9JwNIkkSar3cQwz3U=
  - secure: XqcAxWxYJncav4j5/tkfILZ/OlCfbGQpVf2cWZb+qf5SKk05x+SP1LzbC0L7hQhZV4W+o8UUylDfaEFRdOYIlf7juFubHMMp3wtmVDa3mli0BnuQCe6kBzsf1KN4S6UsR80JSLGfQfHD7n9uymubouH4CEZ1DkJ1H9bnJmaSCvY=
  - secure: O/F7Sk/jMFrhBi+2vziW8Sli9lmMR+a4Tpo8zNuUbsw8TBz6NXl1yz3rB4R4rM0bneCzSGuSQ8p7wSrCSIlAoEE7SYwh5zOc8KIL7VtPo4/PkktuX4aYmR6CzDX5eMH/lgKwB3NjwCJ3J5yeSuQjV/i3wloEXkAvuD/MPrRDoP4=
  - secure: ihgFuLvN6rRZJ9kAepsLKVJan2u5PV3PmDY/kv0Wem0wqoYQKK45msnHfFyLHNRJhC91rAnl+kUnC9QcT+1lSn5q+ZLmHfOEOpoNTGPYTkMGPro119Xnc6lga7MYx8QZR99jH8dlKyRffltIAYCn7yrOKrITg2i/nDt5Qwtu2nw=
  - secure: G9NRoywKGPLt51U5HsZ63CsvlEzkVTzKuv32PM61ifsB2147R2iLQXe8ITQsPzxs8vyH7v8PrageXWsyK8owVuJu10gVpe5vG+GC5Knylpu/mpLhXcPD+U06x5NitwxLBm3VeqgtahVXTvvMQzHBMJRf308AxzbWAx7SeusC2QQ=
  matrix:
  - KITCHEN_INSTANCE='add-solr-support-ubuntu-1204'
  - KITCHEN_INSTANCE='add-solr-support-ubuntu-1004'
  - KITCHEN_INSTANCE='add-solr-support-centos-64'
  - KITCHEN_INSTANCE='add-solr-support-centos-56'
script:
- bundle exec kitchen test $KITCHEN_INSTANCE
after_script:
- bundle exec kitchen destroy $KITCHEN_INSTANCE
notifications:
  email:
  - aivantsov@qubell.com
